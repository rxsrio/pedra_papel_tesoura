<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jogo Pedra, Papel e Tesoura</title>
    <style>
      body {
        background-color: lightgoldenrodyellow;
        color: black;
        text-align: center;
        padding: 20px;
      }

      #game {
        margin-top: 50px;
      }

      button {
        background-color: pink;
        color: black;
        border: none;
        padding: 10px 20px;
        margin: 5px;
        font-size: 16px;
        cursor: pointer;
      }

      p {
        font-size: 20px;
        margin-bottom: 10px;
      }
    </style>
  </head>
  <body>
    <img
      src="https://i.pinimg.com/736x/85/2a/a4/852aa46407d8097347d1caad5a39ecd8--funny-animals-funny-cats.jpg"
      width="400"
      height="300"
      alt="gretchen"
    />
    <div id="game">
      <button onclick="startGame()">Iniciar Jogo</button>
    </div>
    <script>
      // Cria um elemento de título
      var titulo = document.createElement("h1");

      // Define o texto do título
      titulo.textContent =
        "Vamos jogar pedra, papel ou tesoura? Você tem três tentativas";

      // Adiciona o título ao corpo do documento
      document.body.appendChild(titulo);
      var escolhas = ["Pedra", "Papel", "Tesoura"];
      var maxTentativas = 3;
      var tentativas = 0;

      function startGame() {
        var gameDiv = document.getElementById("game"); //me retorna o meu elemento que é o game
        gameDiv.innerHTML = //pega o meu elemento, que é o game e o transforma em HTML
          "<p>Escolha: <button onclick=\"play('Pedra')\">Pedra</button> <button onclick=\"play('Papel')\">Papel</button> <button onclick=\"play('Tesoura')\">Tesoura</button></p>";
        tentativas = 0;
        titulo.style.display = "none";
      }

      function play(escolhaDoUsuario) {
        var escolhaDoCodigo =
          escolhas[Math.floor(Math.random() * escolhas.length)]; //dentro do colchetes eu posso colocar qualquer elemento, formando uma array (sequência)
        console.log(escolhaDoCodigo);
        var resultado = "";

        if (escolhaDoUsuario === escolhaDoCodigo) {
          alert((resultado = "Empate!"));
        } else if (
          (escolhaDoUsuario === "Pedra" && escolhaDoCodigo === "Tesoura") ||
          (escolhaDoUsuario === "Papel" && escolhaDoCodigo === "Pedra") ||
          (escolhaDoUsuario === "Tesoura" && escolhaDoCodigo === "Papel")
        ) {
          alert((resultado = "Você ganhou!"));
        } else {
          alert((resultado = "Você perdeu!"));
        }

        var gameDiv = document.getElementById("game");
        gameDiv.innerHTML +=
          "<p>Você escolheu: " +
          escolhaDoUsuario +
          " | Eu escolhi: " +
          escolhaDoCodigo +
          " | " +
          resultado +
          "</p>";

        tentativas++;

        if (tentativas === maxTentativas) {
          gameDiv.innerHTML += "<p>Fim do jogo!</p>";
          setTimeout(resetGame, 2000); // Reinicia após 2 segundos
        }
      }

      function resetGame() {
        var gameDiv = document.getElementById("game");
        gameDiv.innerHTML =
          '<button onclick="startGame()">Iniciar Jogo</button>';

        titulo.style.display = "block";
      }
    </script>
  </body>
</html>
